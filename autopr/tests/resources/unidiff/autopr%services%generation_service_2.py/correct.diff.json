{
    "hunks": [
        {
            "file": "autopr/services/generation_service_2.py",
            "new_file": false,
            "start_line": 1,
            "lines": [
                {
                    "role": "r",
                    "indent_spaces": 0,
                    "content": "import tempfile"
                },
                {
                    "role": "a",
                    "indent_spaces": 0,
                    "content": "import fnmatch"
                }
            ]
        },
        {
            "file": "autopr/services/generation_service_2.py",
            "new_file": false,
            "start_line": 315,
            "lines": [
                {
                    "role": "r",
                    "indent_spaces": 8,
                    "content": "repo_tree = repo.head.commit.tree"
                },
                {
                    "role": "a",
                    "indent_spaces": 8,
                    "content": "with open('.gptignore', 'r') as gptignore_file:"
                },
                {
                    "role": "a",
                    "indent_spaces": 12,
                    "content": "ignore_patterns = gptignore_file.read().splitlines()"
                },
                {
                    "role": "r",
                    "indent_spaces": 8,
                    "content": "filepaths = self.get_initial_filepaths(files, issue_text)"
                },
                {
                    "role": "a",
                    "indent_spaces": 8,
                    "content": "filepaths = ["
                },
                {
                    "role": "a",
                    "indent_spaces": 12,
                    "content": "filepath for filepath in self.get_initial_filepaths(files, issue_text)"
                },
                {
                    "role": "a",
                    "indent_spaces": 12,
                    "content": "if not any(fnmatch.fnmatch(filepath, pattern) for pattern in ignore_patterns)"
                },
                {
                    "role": "a",
                    "indent_spaces": 8,
                    "content": "]"
                },
                {
                    "role": "u",
                    "indent_spaces": 8,
                    "content": "if filepaths:"
                }
            ]
        }
    ]
}